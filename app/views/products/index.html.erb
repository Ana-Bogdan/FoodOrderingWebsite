<% content_for :title, "Eureka Caffe - Ordering Food" %>

<% content_for :hero_content do %>
  <%= render 'shared/hero', title: 'Ordering food', description: 'Maecenas vel tellus at magna sagittis venenatis. Integer pretium auctor magna, egestas justo gravida vitae. In lacinia auctor auctor.' %>
<% end %>

<section class="filters-bar minimal">
  <div class="filter-group">
    <div class="filter-label chevron-label" data-label="CATEGORY" tabindex="0">
      CATEGORY <span class="chevron orange">▼</span>
      <div class="dropdown-content">
        <div class="option">All</div>
        <div class="option">Entrees</div>
        <div class="option">Main courses</div>
        <div class="option">Second courses</div>
        <div class="option">Salads</div>
      </div>
    </div>
    <div class="filter-label chevron-label" data-label="SORTING" tabindex="0">
      SORTING <span class="chevron orange">▼</span>
      <div class="dropdown-content">
        <div class="option">Price: Low to High</div>
        <div class="option">Price: High to Low</div>
      </div>
    </div>
    <div class="filter-label chevron-label" data-label="VEGETARIAN" tabindex="0">
      VEGETARIAN <span class="chevron orange">▼</span>
      <div class="dropdown-content">
        <div class="option">All</div>
        <div class="option">Vegetarian only</div>
      </div>
    </div>
  </div>
  <div class="price-block minimal">
    <span class="price-label">PRICE</span>
    <span id="price-min-label">$5</span>
    <div class="price-slider-container minimal">
      <input type="range" id="price-min" min="5" max="100" value="5">
      <input type="range" id="price-max" min="5" max="100" value="100">
      <div class="slider-range-highlight"></div>
    </div>
    <span id="price-max-label">$100</span>
  </div>
</section>

<section class="menu-grid">
  <% @products.each do |product| %>
    <div class="menu-item" data-category="<%= product.category %>" data-vegetarian="<%= product.vegetarian ? 'yes' : 'no' %>" data-price="<%= product.price %>">
      <img src="<%= product.image %>" alt="<%= product.name %>">
      <h3><%= product.name %></h3>
      <p class="category"><%= product.category %></p>
      <p class="price">$<%= number_with_precision(product.price, precision: 2) %></p>
      <% if logged_in? %>
        <%= button_to "Add to Cart", add_to_cart_path, method: :post, params: { product_id: product.id }, class: "add-to-cart-btn", form: { style: "display: inline;" } %>
      <% end %>
    </div>
  <% end %>
</section>
